<div class="modal-content">
  <div class="modal-header">
    <button type="button" class="close" ng-click="$dismiss()" aria-label="Close">
      &times;
    </button>
    <h5 class="modal-title">创建文书</h5>
  </div>
  <form class="form-horizontal" role="form" novalidate w5c-form-validate name="form">
    <div class="modal-body">
      <div class="form-group">
        <label for="name" class="col-sm-2 control-label">名称：</label>
        <div class="col-sm-9">
          <input type="text" id="name" name="name" ng-model="vm.formData.name" class="form-control input-sm" required>
        </div>
      </div>
      <div class="form-group">
        <label for="workflow" class="col-sm-2 control-label">选择工作流：</label>
        <div class="col-sm-9">
          <select class="form-control input-sm" ng-model="vm.metaData.category" name="category" ng-change="vm.getWorkflows()">
            <option value="" disabled>请选择</option>
            <option ng-repeat="item in vm.metaData.apps | filter: {appType: '0'}" value="{{item.resourceCode}}">{{item.ad}}</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label for="workflow" class="col-sm-2 control-label">

        </label>
        <div class="col-sm-9">
          <div class="alert alert-info" ng-if="!vm.workflows || vm.workflows.length === 0"  role="alert">
            暂无工作流！
          </div>
            <button class="btn btn-label btn-default" ng-class="{'btn-primary': vm.formData.workflow == flow.deploymentId}" ng-click="vm.formData.workflow = flow.deploymentId" ng-repeat="flow in vm.workflows" style="margin-right:3px; margin-bottom: 3px;">
              <span>{{flow.name}}</span>
            </button>
        </div>
      </div>

    </div>
    <div class="modal-footer">
      <button class="btn btn-success btn-sm btn-round" w5c-form-submit="vm.ok()">保存</button>
      <button class="btn btn-default btn-sm btn-round" ng-click="$dismiss()">取消</button>
    </div>
  </form>
</div>
